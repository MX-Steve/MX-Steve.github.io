<html>
<head></head>
<body>
 <div>
    <input type="text" id="ttsText">
    <input type="button" id="tts_btn" onclick="doTTS()" value="播放">
  </div>
  <div id="bdtts_div_id">
    <audio id="tts_autio_id" autoplay="autoplay">
      <source id="tts_source_id" src="http://tts.baidu.com/text2audio?lan=zh&amp;ie=UTF-8&amp;spd=5&amp;per=1&amp;text=请输入文字" type="audio/mpeg">
      <embed id="tts_embed_id" height="0" width="0" src="">
    </audio>
  </div>
<script>
function doTTS() {
      var ttsDiv = document.getElementById('bdtts_div_id');
      var ttsAudio = document.getElementById('tts_autio_id');
      var ttsText = document.getElementById('ttsText').value;
      ttsText = "为了遇见你,花光了我一生所有的运气 那一天 我闭目在经殿的香雾中 蓦然听见你颂经中的真言; 秋风清，秋月凉，落叶聚还散，寒鸦栖复惊 那一月 我摇动所有的经筒 不为超度 只为触摸你的指尖; 相思相见知何日，此时此夜难为情. 那一年 磕长头匍匐在山路 不为觐见 只为贴着你的温暖; 流沙指绊缁衣扣，柳梢绦垂杨花愁. 那一世 转山转水转佛塔 不为修来世 只为途中与你相见; 回望高城落晓河，长亭窗户压微波. 那一夜 我听一宿梵唱 不为参悟 只为寻找你的一丝气息. 我不是 很快乐; 你也如此忧伤;";
      // 文字转语音
      ttsDiv.removeChild(ttsAudio);
      var au1 = '<audio id="tts_autio_id" autoplay="autoplay">';
      var sss = '<source id="tts_source_id" src="http://tts.baidu.com/text2audio?lan=zh&ie=UTF-8&per=3&spd=5&text=' + ttsText + '" type="audio/mpeg">';
      var eee = '<embed id="tts_embed_id" height="0" width="0" src="">';
      var au2 = '</audio>';
      ttsDiv.innerHTML = au1 + sss + eee + au2;

      ttsAudio = document.getElementById('tts_autio_id');

      ttsAudio.play();
    }
</script>
</body>
</html>
